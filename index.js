module.exports=function(a){function w(){f&&y(),g&&B(),h&&C(),c&&I(),d&&x(s-1,-b.offsetWidth+"px","afterBegin"),t&&F(t)}function x(a,c,d){var e=b.querySelectorAll("."+i+" > ul li")[a];e.style.marginLeft=c,b.querySelector("."+i+" > ul").removeChild(e),b.querySelector("."+i+" > ul").insertAdjacentHTML(d,e.outerHTML)}function y(){var a=document.createElement("ul");a.classList.add(l),a.addEventListener("click",A.bind(this));for(var c=0;c<s;c++){var d=document.createElement("li");d.setAttribute("data-position",c),a.appendChild(d)}b.appendChild(a),z()}function z(){switch([].forEach.call(b.querySelectorAll("."+l+" li"),function(a){a.classList.remove("active")}),u){case-1:u=s-1;break;case s:u=0;break;default:u=u}b.querySelectorAll("."+l+" li")[u].classList.add("active")}function A(a){"LI"===a.target.tagName&&F(a.target.getAttribute("data-position"))}function B(){var a=document.createElement("button");a.innerHTML=r,a.classList.add(j);var c=document.createElement("button");c.innerHTML=q,c.classList.add(k),a.addEventListener("click",G),c.addEventListener("click",H),b.appendChild(a),b.appendChild(c)}function C(){var a=document.createElement("button");a.innerHTML=o,a.classList.add(n),a.addEventListener("click",I);var c=document.createElement("button");c.innerHTML=p,c.classList.add(m),c.addEventListener("click",J),b.appendChild(a),b.appendChild(c)}function D(a){a.style.marginLeft=""}function E(a){a.style.marginLeft=-b.offsetWidth+"px"}function F(a){var b=u-a;if(0!==b)if(b<0)for(var c=0;c<-b;c++)H();else for(var d=0;d<b;d++)G()}function G(){if(d)D(b.querySelectorAll("."+i+" > ul li")[0]),x(s-1,-b.offsetWidth+"px","afterBegin");else{if(J(),0===u)return;D(b.querySelectorAll("."+i+" > ul li")[u-1])}u--,f&&z()}function H(){if(d)E(b.querySelectorAll("."+i+" > ul li")[1]),x(0,"","beforeEnd");else{if(u===s-1)return void J();E(b.querySelectorAll("."+i+" > ul li")[u])}u++,f&&z()}function I(){v||(v=setInterval(H.bind(this),e))}function J(){clearInterval(v),v=null}function K(){return u}var b=document.getElementById(a.elem||"carousel"),c=a.autoplay,d=a.circular,e=a.interval||3e3,f=a.dots,g=a.arrows,h=a.buttons,i=a.crslClass||"js-carousel",j=a.crslArrowPrevClass||"arrow_prev",k=a.crslArrowNextClass||"arrow_next",l=a.crslDotsClass||"dots",m=a.crslButtonStopClass||"btn_stop",n=a.crslButtonPlayClass||"btn_play",o=a.btnPlayText||"Play",p=a.btnStopText||"Stop",q=a.arrNextText||"&rsaquo;",r=a.arrPrevText||"&lsaquo;",s=b.querySelectorAll("li").length,t=a.initial>=s?s:a.initial,u=0,v=null;return s>1&&w(),{live:K,show:F,prev:G,next:H,play:I,stop:J}};